<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.test.dao.PaperAnswerMapper" >
  <resultMap id="BaseResultMap" type="com.test.domain.PaperAnswer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="stu_no" property="stuNo" jdbcType="VARCHAR" />
    <result column="e_id" property="eId" jdbcType="INTEGER" />
    <result column="obj_answer" property="objAnswer" jdbcType="VARCHAR" />
    <result column="sub_answer" property="subAnswer" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    id, stu_no, e_id, obj_answer, sub_answer
  </sql>
  
  <!-- 多条件查询 -->
	<select id="selectPAByConds" resultType="Student">
		select id, pa.stu_no,stu_name,stu_Class, e_id, obj_answer, sub_answer from paper_answer pa,student s
		<where>
			<if test="stuClass != 'all'">
				stuClass = #{stuClass}
			</if>
			<if test="stuDepartment != 'all'">
				AND stuDepartment = #{stuDepartment}
			</if>
			<if test="searchText != ''">
				<if test="searchCond == 'stuNo'">
					AND stuNo like "%"#{searchText}"%"
				</if>
				<if test="searchCond == 'stuName'">
					AND stuName like concat(concat("%",#{searchText}),"%")
				</if>
			</if>
		</where>
	</select>
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from paper_answer
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    delete from paper_answer
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.test.domain.PaperAnswer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    insert into paper_answer (id, stu_no, e_id, 
      obj_answer, sub_answer)
    values (#{id,jdbcType=INTEGER}, #{stuNo,jdbcType=VARCHAR}, #{eId,jdbcType=INTEGER}, 
      #{objAnswer,jdbcType=VARCHAR}, #{subAnswer,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.test.domain.PaperAnswer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    insert into paper_answer
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="stuNo != null" >
        stu_no,
      </if>
      <if test="eId != null" >
        e_id,
      </if>
      <if test="objAnswer != null" >
        obj_answer,
      </if>
      <if test="subAnswer != null" >
        sub_answer,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="stuNo != null" >
        #{stuNo,jdbcType=VARCHAR},
      </if>
      <if test="eId != null" >
        #{eId,jdbcType=INTEGER},
      </if>
      <if test="objAnswer != null" >
        #{objAnswer,jdbcType=VARCHAR},
      </if>
      <if test="subAnswer != null" >
        #{subAnswer,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.test.domain.PaperAnswer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    update paper_answer
    <set >
      <if test="stuNo != null" >
        stu_no = #{stuNo,jdbcType=VARCHAR},
      </if>
      <if test="eId != null" >
        e_id = #{eId,jdbcType=INTEGER},
      </if>
      <if test="objAnswer != null" >
        obj_answer = #{objAnswer,jdbcType=VARCHAR},
      </if>
      <if test="subAnswer != null" >
        sub_answer = #{subAnswer,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.test.domain.PaperAnswer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sat May 12 10:23:37 CST 2018.
    -->
    update paper_answer
    set stu_no = #{stuNo,jdbcType=VARCHAR},
      e_id = #{eId,jdbcType=INTEGER},
      obj_answer = #{objAnswer,jdbcType=VARCHAR},
      sub_answer = #{subAnswer,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>